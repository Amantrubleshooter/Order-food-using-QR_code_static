
{% extends 'base.html' %}
{% load static %}

{%block title%} Manage Menu {%endblock title%}

{% block body %}

{% for message in messages %}
    <div class="alert alert-success alert-dismissable fade show" role="alert">
        <strong>{{message}}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}

<div class='container py-4 col-md-8'>

    <h1 class='text-center mb-3'>Add a dish</h1>

    <form method='POST'  action='/manage_menu' enctype="multipart/form-data" class='row g-3' style ='display:flex; justify-content:center; align-items : center;'>
      {% csrf_token %}
      
      
      <div class="form-floating mb-3 col-md-8">
        <input type="text" name="name" class="form-control" id="name" placeholder="Enter Name of dish">
        <label for="floatingInput">Name of dish</label>
      </div>

       <div class="form-floating mb-3 col-md-8 ">
        <select name="cat"  class="form-control dropdown" id="name">
          <option value="" disabled selected>Select</option>
          <option value="Pizza">Pizza</option>
          <option value="Momos">Momos</option>
          <option value="Manchuriyan">Manchuriyan</option>
          <option value="Sandwitch">Sandwitch</option>
          <option value="French Fries">French Fries</option>
          <option value="Beverage">Beverage</option>
          <option value="Noodles">Noodles</option>
          <option value="Combo">Combo</option>
        </select>
        <label for="floatingInput">Category of dish</label>
      </div>
      
      <div class="form-floating mb-3 col-md-8">
        <input type="number" name='price' id="form3Example3c" placeholder='Enter the price of dish' class="form-control" maxlength='4' />
        <label class="form-label" for="form3Example3c">Price</label>
      </div>
      
      <div class="form-floating mb-3 col-md-8">
        <input type="text" name="desc" class="form-control" id="name" placeholder="Enter decription of dish">
        <label for="floatingInput">Description</label>
      </div>

      <div class="mb-3 col-md-8">
        <label for="categorySelect" class="form-label">Image of dish</label>
          <select class="form-select" name="selected_img" id="categorySelect" required>
            <option value="">Select</option>
            {% for category, img_name in category_images.items %}
            <option value="{{ img_name }}">{{ category|title }}</option>
            {% endfor %}
          </select>
      </div>

      </div>
      <div class="text-center mt-4">
      ` <button type='submit' class='btn btn-primary col-md-6'>Submit</button>
      </div>
    </form>

</div>


<div class="row justify-content-center">
{%for i in items%}
<div class="card" style="width: 18rem; margin:20px 20px 10px; ">
  <img src="{% static i.pic %}" class="card-img-top" alt="..." style='padding:10px 0px 0px' >
  <div class="card-body">
    <!-- <h4 class="card-title">{{i.id}}</h4> -->
    <h4 class="card-title">{{i.name}}</h4>
    <h5 class="card-title">â‚¹{{i.price}}</h5>
    <p class="card-text">{{i.desc}}</p>
    <form action="{% url 'delete_dish' i.id %}" method="post">
    {% csrf_token %}
    {% if user.is_superuser %}
    <!-- <a href="#" class="btn btn-danger">Delete</a> -->
    <button class="btn btn-danger" type="submit">Delete</button>
    {%else%}
    <a href="#" class="btn btn-primary">Add to cart</a>
    {%endif%}
    </form>
  </div>
</div>
{%endfor%}
</div>

{% endblock body %}

